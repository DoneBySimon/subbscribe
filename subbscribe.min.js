/**
 * Subbscibe.js (http://www.subbscribe.com)
 * Copyright (c) 2014 (v3.0) Shlomi Nissan, 1ByteBeta (http://www.1bytebeta.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 */(function(e){e.fn.subbscribe=function(t){function s(){e("#subbscribe input").each(function(){e(this).val("")})}function o(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function u(){var t=!0,n=e("#mce-NAME"),r=e("#mce-EMAIL");if(n.val().length<2){t=!1;n.addClass("error")}else n.removeClass("error");if(!o(r.val())){t=!1;r.addClass("error")}else r.removeClass("error");return t}function a(e,t,n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="expires="+r.toUTCString();document.cookie=e+"="+t+"; "+i+"; path=/"}function f(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""}var n=this,r=e.extend({url:"",title:"Never miss a post!",text:"Get our latest posts and announcements in your inbox. You won't regret it!",name:"Subbscribe",color:"#ee6262",thumbnail:"https://s3-ap-southeast-2.amazonaws.com/subbscribe/img/avatar.png"},t);if(r.url==""){console.log("Subbscribe Error: You must provide a valid MailChimp form URL.");return}var i='<div id="subbscribe"> <div class="subb-title">'+r.title+' <img class="close-x" src="https://s3-ap-southeast-2.amazonaws.com/subbscribe/img/close.svg" />  </div> <div class="subb-body"> <div class="subb-hidden"> <div class="subb-thumbnail"> <img style="width: 40px; height: 40px;" src="'+r.thumbnail+'" /> </div> <div class="subb-hidden"> <div class="subb-site"> &nbsp;'+r.name+' </div> <button class="subb-button show-form">Subscribe</button> </div> </div> <div class="subb-form" style="display: none"> <p>'+r.text+'</p> <form id="mc-embedded-subbscribe-form" method="post" action="'+r.url+'"> <div class="subbscribe-alert subbscribe-error" style="display: none">Oops! Check your details and try again.</div> <div class="subbscribe-alert subbscribe-success" style="display: none">Thanks! Check your email for confirmation.</div> <div class="text-input"> <input type="text" name="NAME" id="mce-NAME" placeholder="Name" /> </div> <div class="text-input"> <input type="email" name="EMAIL" id="mce-EMAIL" placeholder="Email Address" /> </div> <button class="subb-button submit-form" type="submit" style="width: 100%; margin-bottom: 10px;"><i class="fa fa-plus"></i>Subscribe</button></form> <div class="footer">Powered by <a href="http://www.subbscribe.com" target="_blank">Subbscribe.com</a></div> </div> </div> </div>';if(f("subbscribe-hidden")!=1){this.append(i);e("#subbscribe").addClass("animated slideInRight")}e("#subbscribe .subb-button").css("background-color",r.color);e("#subbscribe .close-x").click(function(){e("#subbscribe").addClass("animated fadeOut");e("#subbscribe").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e("#subbscribe").remove();a("subbscribe-hidden",1,1)});r.onClose.call()});e("#subbscribe .show-form").click(function(){e("#subbscribe .subb-hidden").hide();e("#subbscribe .subb-form").show()});e("#mc-embedded-subbscribe-form").submit(function(t){t.preventDefault();if(u()){e("#subbscribe .subbscribe-error").slideUp();e("#subbscribe .submit-form").attr("disabled","disabled");e.ajax({url:e(this).attr("action").replace("/post?","/post-json?").concat("&c=?"),type:"post",data:e(this).serialize(),dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){if(t["result"]!="success")console.log(t.msg);else{s();e(".subbscribe-success").slideDown();setTimeout(function(){e("#subbscribe").addClass("animated fadeOut")},2e3);e("#subbscribe").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e("#subbscribe").remove();a("subbscribe-hidden",1,365);r.onSubbscribe.call()})}}})}else e("#subbscribe .subbscribe-error").slideDown()})}})(jQuery);